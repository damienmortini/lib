const a9_0x27ff=['execSync','params','DISTRIBUTED_TASK_EXECUTION_INTERNAL_ERROR_STATUS_CODE','invokeTasksUsingRunMany','readFileSync','true','Command\x20execution\x20failed\x20(distributed\x20task\x20execution:\x20','value','unlinkSync','ignore','assign','forEach','join','defineProperty','../../../utilities/nx-imports','\x20--parallel\x20--max-parallel=','__esModule','projectName','parse','throw','Executing:\x20\x27','child_process','note','target','configuration','--configuration=','next','length','\x20--projects=','apply','inherit','push'];(function(_0x312b69,_0x27ff16){const _0xe8e1be=function(_0x5121bf){while(--_0x5121bf){_0x312b69['push'](_0x312b69['shift']());}};_0xe8e1be(++_0x27ff16);}(a9_0x27ff,0x132));const a9_0xe8e1=function(_0x312b69,_0x27ff16){_0x312b69=_0x312b69-0x0;let _0xe8e1be=a9_0x27ff[_0x312b69];return _0xe8e1be;};'use strict';var __awaiter=this&&this['__awaiter']||function(_0x20ed86,_0x529145,_0x3f3754,_0xfc0775){function _0x5ad582(_0x33a5b1){return _0x33a5b1 instanceof _0x3f3754?_0x33a5b1:new _0x3f3754(function(_0xe48561){_0xe48561(_0x33a5b1);});}return new(_0x3f3754||(_0x3f3754=Promise))(function(_0x578660,_0x43c737){function _0x411965(_0x62c75e){try{_0x417890(_0xfc0775[a9_0xe8e1('0x8')](_0x62c75e));}catch(_0x4221ef){_0x43c737(_0x4221ef);}}function _0x11546c(_0x2e9997){try{_0x417890(_0xfc0775[a9_0xe8e1('0x1')](_0x2e9997));}catch(_0x649cc0){_0x43c737(_0x649cc0);}}function _0x417890(_0x10e18f){_0x10e18f['done']?_0x578660(_0x10e18f[a9_0xe8e1('0x15')]):_0x5ad582(_0x10e18f['value'])['then'](_0x411965,_0x11546c);}_0x417890((_0xfc0775=_0xfc0775[a9_0xe8e1('0xb')](_0x20ed86,_0x529145||[]))[a9_0xe8e1('0x8')]());});};Object[a9_0xe8e1('0x1b')](exports,a9_0xe8e1('0x1e'),{'value':!![]});exports[a9_0xe8e1('0x11')]=void 0x0;const environment_1=require('../../../utilities/environment');const child_process_1=require(a9_0xe8e1('0x3'));const fs_1=require('fs');const {output,cacheDirectory}=require(a9_0xe8e1('0x1c'));function invokeTasksUsingRunMany(){return __awaiter(this,void 0x0,void 0x0,function*(){const _0x5a4ad2=completedTasksReader();return function _0x469da4(_0x2af3d0,_0x1e1016,_0x2d2c66){return __awaiter(this,void 0x0,void 0x0,function*(){let _0x43f748=0x0;const _0x146d3b=[];for(const _0x5724ad of groupByTarget(_0x1e1016)){const _0x4d8b29=_0x5724ad[a9_0xe8e1('0x6')]?a9_0xe8e1('0x7')+_0x5724ad[a9_0xe8e1('0x6')]:'';const _0xa01928=_0x2d2c66>0x1?a9_0xe8e1('0x1d')+_0x2d2c66:'';const _0x47d2ec='npx\x20nx\x20run-many\x20--target='+_0x5724ad[a9_0xe8e1('0x5')]+'\x20'+_0x4d8b29+a9_0xe8e1('0xa')+_0x5724ad['projects'][a9_0xe8e1('0x1a')](',')+'\x20'+_0x5724ad[a9_0xe8e1('0xf')]+_0xa01928;if(environment_1['VERBOSE_LOGGING']){output[a9_0xe8e1('0x4')]({'title':a9_0xe8e1('0x2')+_0x47d2ec+'\x27'});}try{(0x0,child_process_1[a9_0xe8e1('0xe')])(_0x47d2ec,{'stdio':[a9_0xe8e1('0x17'),'inherit',a9_0xe8e1('0xc')],'env':Object[a9_0xe8e1('0x18')](Object[a9_0xe8e1('0x18')]({},process['env']),{'NX_CACHE_FAILURES':'true','NX_CLOUD_DISTRIBUTED_EXECUTION_ID':_0x2af3d0,'NX_STREAM_OUTPUT':a9_0xe8e1('0x13'),'NX_PREFIX_OUTPUT':a9_0xe8e1('0x13')})});_0x146d3b['push'](..._0x5a4ad2(_0x2af3d0));}catch(_0x1998f6){if(_0x1998f6['status']===environment_1[a9_0xe8e1('0x10')]){throw _0x1998f6;}else{_0x43f748=0x1;_0x146d3b['push'](..._0x5a4ad2(_0x2af3d0));}}}return{'completedStatusCode':_0x43f748,'completedTasks':_0x146d3b};});};});}exports['invokeTasksUsingRunMany']=invokeTasksUsingRunMany;function groupByTarget(_0x3a4a3c){const _0x16a3bd=[];_0x3a4a3c[a9_0xe8e1('0x19')](_0x4a4811=>{const _0x1349b9=_0x16a3bd['find'](_0x108235=>_0x108235[a9_0xe8e1('0x5')]===_0x4a4811[a9_0xe8e1('0x5')]&&_0x108235[a9_0xe8e1('0x6')]===_0x4a4811['configuration']);if(_0x1349b9){_0x1349b9['projects'][a9_0xe8e1('0xd')](_0x4a4811[a9_0xe8e1('0x1f')]);}else{_0x16a3bd[a9_0xe8e1('0xd')]({'target':_0x4a4811[a9_0xe8e1('0x5')],'projects':[_0x4a4811[a9_0xe8e1('0x1f')]],'params':_0x4a4811[a9_0xe8e1('0xf')],'configuration':_0x4a4811[a9_0xe8e1('0x6')]});}});return _0x16a3bd;}function completedTasksReader(){return _0x31f55e=>{const _0x468d8d=a9_0xe8e1('0x14')+_0x31f55e+').\x20Tasks\x20hashes\x20haven\x27t\x20been\x20recorded.';let _0x46279e;try{const _0x5eac7e=cacheDirectory+'/tasks-hashes-'+_0x31f55e;_0x46279e=JSON[a9_0xe8e1('0x0')]((0x0,fs_1[a9_0xe8e1('0x12')])(_0x5eac7e)['toString']());(0x0,fs_1[a9_0xe8e1('0x16')])(_0x5eac7e);}catch(_0x305b4f){throw new Error(_0x468d8d);}if(_0x46279e[a9_0xe8e1('0x9')]==0x0){throw new Error(_0x468d8d);}return _0x46279e;};}