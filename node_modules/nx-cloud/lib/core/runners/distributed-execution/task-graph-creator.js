const a15_0x39f8=['strictlyOrderedTargets','parse','readFileSync','projectGraph','toString','addDependencies','projects','__esModule','target','../../../utilities/nx-imports','keys','defaultTargetDependencies','createTaskGraphCompat','dependencies','/nx.json','find','targetDependencies','self','push','roots','has','addTaskDependencies','addTaskToGraph','project','TaskGraphCreator','createTaskGraph','length','build','tasks'];(function(_0x35a1d5,_0x39f8b4){const _0x3bd608=function(_0x57111f){while(--_0x57111f){_0x35a1d5['push'](_0x35a1d5['shift']());}};_0x3bd608(++_0x39f8b4);}(a15_0x39f8,0x145));const a15_0x3bd6=function(_0x35a1d5,_0x39f8b4){_0x35a1d5=_0x35a1d5-0x0;let _0x3bd608=a15_0x39f8[_0x35a1d5];return _0x3bd608;};'use strict';Object['defineProperty'](exports,a15_0x3bd6('0x1'),{'value':!![]});exports[a15_0x3bd6('0x12')]=exports[a15_0x3bd6('0x6')]=void 0x0;const stripJsonComments=require('strip-json-comments');const fs_1=require('fs');const {getDependencyConfigs,workspaceRoot}=require(a15_0x3bd6('0x3'));function createTaskGraphCompat(_0x25be70,_0x39cd8f,_0x522c81){const _0xeddcb0=JSON[a15_0x3bd6('0x18')](stripJsonComments((0x0,fs_1[a15_0x3bd6('0x19')])(workspaceRoot+a15_0x3bd6('0x8'))[a15_0x3bd6('0x1b')]()));return new TaskGraphCreator(_0x39cd8f,getDefaultDependencyConfigs(_0xeddcb0,_0x25be70))[a15_0x3bd6('0x13')](_0x522c81);}exports[a15_0x3bd6('0x6')]=createTaskGraphCompat;function getDefaultDependencyConfigs(_0xef3781,_0x4695d9){var _0xbdd965,_0x13e4a6;const _0x24f77d=(_0xbdd965=_0xef3781[a15_0x3bd6('0xa')])!==null&&_0xbdd965!==void 0x0?_0xbdd965:{};const _0x4f7cfb=_0x4695d9?(_0x13e4a6=_0x4695d9[a15_0x3bd6('0x17')])!==null&&_0x13e4a6!==void 0x0?_0x13e4a6:[a15_0x3bd6('0x15')]:[];for(const _0x8ee0d of _0x4f7cfb){_0x24f77d[_0x8ee0d]=_0x24f77d[_0x8ee0d]||[];_0x24f77d[_0x8ee0d][a15_0x3bd6('0xc')]({'target':_0x8ee0d,'projects':a15_0x3bd6('0x7')});}return _0x24f77d;}class TaskGraphCreator{constructor(_0x136d0c,_0x3caedb){this[a15_0x3bd6('0x1a')]=_0x136d0c;this[a15_0x3bd6('0x5')]=_0x3caedb;}['createTaskGraph'](_0x575702){const _0x26efa3={'roots':[],'tasks':{},'dependencies':{}};for(const _0x1c6f68 of _0x575702){this[a15_0x3bd6('0x10')](_0x1c6f68,_0x26efa3);const _0x306510=getDependencyConfigs(_0x1c6f68[a15_0x3bd6('0x2')],this['defaultTargetDependencies'],this[a15_0x3bd6('0x1a')]);if(!_0x306510){continue;}this[a15_0x3bd6('0xf')](_0x1c6f68,_0x306510,_0x575702,_0x26efa3);}_0x26efa3[a15_0x3bd6('0xd')]=Object[a15_0x3bd6('0x4')](_0x26efa3['dependencies'])['filter'](_0x196b32=>_0x26efa3[a15_0x3bd6('0x7')][_0x196b32][a15_0x3bd6('0x14')]===0x0);return _0x26efa3;}[a15_0x3bd6('0xf')](_0x76088b,_0x16c2cd,_0x4b9536,_0xc982e){for(const _0x11a542 of _0x16c2cd){if(_0x11a542[a15_0x3bd6('0x0')]===a15_0x3bd6('0xb')){for(const _0x4c824b of _0x4b9536){if(_0x4c824b[a15_0x3bd6('0x2')][a15_0x3bd6('0x11')]===_0x76088b['target'][a15_0x3bd6('0x11')]&&_0x4c824b[a15_0x3bd6('0x2')]['target']===_0x11a542['target']){_0xc982e[a15_0x3bd6('0x7')][_0x76088b['id']][a15_0x3bd6('0xc')](_0x4c824b['id']);}}}else if(_0x11a542[a15_0x3bd6('0x0')]===a15_0x3bd6('0x7')){const _0xa05e68=new Set();this[a15_0x3bd6('0x1c')](_0x76088b[a15_0x3bd6('0x2')][a15_0x3bd6('0x11')],_0x11a542[a15_0x3bd6('0x2')],_0x4b9536,_0xc982e,_0x76088b['id'],_0xa05e68);}}}[a15_0x3bd6('0x1c')](_0x2eed42,_0x2a15a5,_0x338453,_0x1c325f,_0x32ee1c,_0x198f0c){_0x198f0c['add'](_0x2eed42);const _0x23f48c=this[a15_0x3bd6('0x1a')][a15_0x3bd6('0x7')][_0x2eed42];if(_0x23f48c){const _0x4c5689=_0x23f48c['map'](_0x55017f=>_0x55017f[a15_0x3bd6('0x2')]);for(const _0x1f5a93 of _0x4c5689){if(_0x198f0c[a15_0x3bd6('0xe')](_0x1f5a93)){continue;}const _0xd484e0=this['findTask']({'project':_0x1f5a93,'target':_0x2a15a5},_0x338453);if(_0xd484e0){if(_0x1c325f[a15_0x3bd6('0x7')][_0x32ee1c]['indexOf'](_0xd484e0['id'])===-0x1){_0x1c325f['dependencies'][_0x32ee1c]['push'](_0xd484e0['id']);}}else{this[a15_0x3bd6('0x1c')](_0x1f5a93,_0x2a15a5,_0x338453,_0x1c325f,_0x32ee1c,_0x198f0c);}}}}['findTask']({project,target},_0x4f06fb){return _0x4f06fb[a15_0x3bd6('0x9')](_0x4e173b=>_0x4e173b['target'][a15_0x3bd6('0x11')]===project&&_0x4e173b[a15_0x3bd6('0x2')][a15_0x3bd6('0x2')]===target);}['addTaskToGraph'](_0x4165a5,_0xe5fb5f){_0xe5fb5f[a15_0x3bd6('0x16')][_0x4165a5['id']]=_0x4165a5;_0xe5fb5f[a15_0x3bd6('0x7')][_0x4165a5['id']]=[];}}exports['TaskGraphCreator']=TaskGraphCreator;