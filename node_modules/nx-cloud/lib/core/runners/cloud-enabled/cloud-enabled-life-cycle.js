const a0_0x1ee9=['collectTerminalOutput','implicitDeps','readTaskTerminalOutput','task','CloudEnabledLifeCycle','hash','cacheableOperations','outputObfuscator','toISOString','runtime','cacheStatus','defineProperty','scheduleTask','params','endCommand','__esModule','tasks','cacheDirectory','local-cache-kept-existing','runContext','scheduledTasks','obfuscate','local-cache','startsWith','endTime','remote-cache','target','project','keys','npm:','code','startTime','cache','endTasks','serializeOverrides','Cannot\x20find\x20task\x20','../../terminal-output/read-task-terminal-output','startTask','terminalOutput','hashDetails','taskId','push','updateStartedTask','statuses','forEach','../../../utilities/serializer-overrides','status'];(function(_0x6fda74,_0x1ee97d){const _0xefb956=function(_0x246e42){while(--_0x246e42){_0x6fda74['push'](_0x6fda74['shift']());}};_0xefb956(++_0x1ee97d);}(a0_0x1ee9,0x81));const a0_0xefb9=function(_0x6fda74,_0x1ee97d){_0x6fda74=_0x6fda74-0x0;let _0xefb956=a0_0x1ee9[_0x6fda74];return _0xefb956;};'use strict';Object[a0_0xefb9('0x17')](exports,a0_0xefb9('0x1b'),{'value':!![]});exports[a0_0xefb9('0x10')]=void 0x0;const serializer_overrides_1=require(a0_0xefb9('0xa'));const read_task_terminal_output_1=require(a0_0xefb9('0x1'));class CloudEnabledLifeCycle{constructor(_0x110dff,_0x5bf8b2,_0x484209,_0x401179,_0x712498,_0x2e9b25){this[a0_0xefb9('0x1f')]=_0x110dff;this['cacheDirectory']=_0x5bf8b2;this[a0_0xefb9('0xc')]=_0x484209;this[a0_0xefb9('0x12')]=_0x401179;this[a0_0xefb9('0x13')]=_0x712498;this[a0_0xefb9('0x1c')]=_0x2e9b25;}[a0_0xefb9('0x18')](_0x1474ee){this[a0_0xefb9('0x1f')][a0_0xefb9('0x20')][a0_0xefb9('0x6')](_0x1474ee);}[a0_0xefb9('0x2')](_0x401ca0){this[a0_0xefb9('0x1c')][a0_0xefb9('0x6')]({'taskId':_0x401ca0['id'],'startTime':new Date()[a0_0xefb9('0x14')](),'target':_0x401ca0[a0_0xefb9('0x26')][a0_0xefb9('0x26')],'projectName':_0x401ca0[a0_0xefb9('0x26')][a0_0xefb9('0x27')],'hash':_0x401ca0[a0_0xefb9('0x11')],'hashDetails':this['cleanUpHashDetails'](_0x401ca0[a0_0xefb9('0x4')]),'params':(0x0,serializer_overrides_1[a0_0xefb9('0x2e')])(_0x401ca0),'uploadedToStorage':![]});}[a0_0xefb9('0x2d')](_0x4c477e){for(let _0x2bbb7a of _0x4c477e){let _0x25bf96;const _0x1df5f8=_0x2bbb7a[a0_0xefb9('0xb')]===a0_0xefb9('0x25');const _0x59cd3f=_0x2bbb7a[a0_0xefb9('0xb')]===a0_0xefb9('0x2c');const _0x39cec6=_0x2bbb7a[a0_0xefb9('0xb')]===a0_0xefb9('0x22')||_0x2bbb7a[a0_0xefb9('0xb')]===a0_0xefb9('0x1e')||_0x59cd3f;if(this[a0_0xefb9('0x1f')][a0_0xefb9('0x8')][_0x2bbb7a[a0_0xefb9('0xf')][a0_0xefb9('0x11')]]){_0x25bf96=this[a0_0xefb9('0x1f')][a0_0xefb9('0x8')][_0x2bbb7a['task'][a0_0xefb9('0x11')]];}else if(_0x1df5f8){_0x25bf96='remote-cache-hit';}else if(_0x39cec6){_0x25bf96='local-cache-hit';}else{_0x25bf96='cache-miss';}this[a0_0xefb9('0x7')](_0x2bbb7a,_0x25bf96);}}[a0_0xefb9('0x1a')](){}['updateStartedTask'](_0x1c248c,_0x174d0e){const _0x477aa6=this[a0_0xefb9('0x1c')]['find'](_0x4c22a0=>_0x4c22a0[a0_0xefb9('0x5')]===_0x1c248c[a0_0xefb9('0xf')]['id']);if(!_0x477aa6){throw new Error(a0_0xefb9('0x0')+_0x1c248c[a0_0xefb9('0xf')]['id']);}if((_0x1c248c===null||_0x1c248c===void 0x0?void 0x0:_0x1c248c[a0_0xefb9('0x2b')])&&(_0x1c248c===null||_0x1c248c===void 0x0?void 0x0:_0x1c248c['endTime'])){_0x477aa6['startTime']=new Date(_0x1c248c[a0_0xefb9('0x2b')])[a0_0xefb9('0x14')]();_0x477aa6[a0_0xefb9('0x24')]=new Date(_0x1c248c[a0_0xefb9('0x24')])[a0_0xefb9('0x14')]();}else{_0x477aa6[a0_0xefb9('0x24')]=new Date()[a0_0xefb9('0x14')]();}_0x477aa6[a0_0xefb9('0xb')]=_0x1c248c['code'];_0x477aa6[a0_0xefb9('0x19')]=this[a0_0xefb9('0x13')][a0_0xefb9('0x21')](_0x477aa6[a0_0xefb9('0x19')]);_0x477aa6['cacheStatus']=_0x174d0e;if(this[a0_0xefb9('0xc')]){_0x477aa6[a0_0xefb9('0x3')]=this['getTerminalOutput'](_0x1c248c['task'][a0_0xefb9('0x11')],_0x477aa6[a0_0xefb9('0x16')],_0x1c248c[a0_0xefb9('0x2a')]);}}['getTerminalOutput'](_0x5b1681,_0x5b4db9,_0x177255){return(0x0,read_task_terminal_output_1[a0_0xefb9('0xe')])(this[a0_0xefb9('0x1d')],this[a0_0xefb9('0x13')],_0x5b1681,_0x5b4db9,_0x177255);}['cleanUpHashDetails'](_0x4aae26){const _0x27f186={};Object[a0_0xefb9('0x28')](_0x4aae26['nodes'])['filter'](_0x50b5bf=>!_0x50b5bf[a0_0xefb9('0x23')](a0_0xefb9('0x29')))[a0_0xefb9('0x9')](_0x3d7a8f=>{_0x27f186[_0x3d7a8f]=_0x4aae26['nodes'][_0x3d7a8f];});return{'nodes':_0x27f186,'runtime':_0x4aae26[a0_0xefb9('0x15')],'implicitDeps':_0x4aae26[a0_0xefb9('0xd')]};}}exports[a0_0xefb9('0x10')]=CloudEnabledLifeCycle;